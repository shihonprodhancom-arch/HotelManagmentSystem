<div class="rooms-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner"></div>
    <p>Loading room data...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !isLoading" class="error-container">
    <div class="alert alert-warning">
      <p>{{ error }}</p>
      <button class="btn btn-primary" (click)="refreshData()">Retry</button>
    </div>
  </div>

  <!-- Room Groups Grid -->
  <div *ngIf="!isLoading && !error" class="room-groups-grid">
    <div 
      *ngFor="let group of roomGroups" 
      class="room-group-card"
      (click)="viewGroupDetails(group)"
    >
      <div class="group-header">
        <h3>{{ group.type }} Rooms</h3>
        <span class="room-count">{{ group.rooms.length }} rooms</span>
      </div>
      
      <div class="group-preview">
        <img 
          [src]="group.rooms[0]?.image" 
          [alt]="group.type + ' Room'"
          class="preview-image"
          onerror="this.src='assets/img/room-placeholder.jpg'"
        >
        <div class="preview-info">
          <p class="price">From BDT {{ getStartingPrice(group.rooms) }}/night</p>
          <p class="capacity">Up to {{ getMaxCapacity(group.rooms) }} guests</p>
        </div>
      </div>
      
      <button class="btn-view-details">View Details</button>
    </div>
  </div>

  <!-- Room Group Details Modal -->
  <div *ngIf="selectedGroup" class="modal-overlay" (click)="closeDetails()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2>{{ selectedGroup.type }} Rooms</h2>
        <button class="close-btn" (click)="closeDetails()">&times;</button>
      </div>
      
      <div class="rooms-list">
        <div *ngFor="let room of selectedGroup.rooms" class="room-card">
          <div class="room-image">
            <img 
              [src]="room.image" 
              [alt]="'Room ' + room.number"
              onerror="this.src='assets/img/room-placeholder.jpg'"
            >
          </div>
          
          <div class="room-details">
            <h4>Room {{ room.number }}</h4>
            <p class="price">BDT {{ room.price }}/night</p>
            <p class="capacity">Capacity: {{ room.capacity }} person{{ room.capacity > 1 ? 's' : '' }}</p>
            <div class="services">
              <span class="service-tag" *ngFor="let service of room.services">
                {{ service }}
              </span>
            </div>
          </div>
          
          <div class="room-actions">
            <button 
              class="btn-book"
              (click)="bookRoom(room)"
            >
              Book Now
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>